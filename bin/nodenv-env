#!/usr/bin/env bash
#
# Summary: Shows relevant environment variables.
#
# Usage: nodenv env
#
# Shows PATH and any variables that start with NPM, NODE or NODENV
#

set -e
[ -n "$NODENV_DEBUG" ] && set -x

export NODENV_VERSION="$(nodenv-version-name)"

for script in $(nodenv-hooks exec); do
  source "$script"
done

if [ "$NODENV_VERSION" != "system" ]; then
  NODENV_COMMAND_PATH="$(nodenv-which node)"
  NODENV_BIN_PATH="${NODENV_COMMAND_PATH%/*}"

  export PATH="${NODENV_BIN_PATH}:${PATH}"
fi

/usr/bin/env | egrep '^PATH=|^NODE_|^NODENV_|^NPM_'
